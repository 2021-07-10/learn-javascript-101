# 第 3.2 章 作用域与作用域链

|本期版本|上期版本
|:---:|:---:
`Tue Aug 23 10:12:46 CST 2022` | -

## 全局作用域

* 在非严格模式下，函数作用域中未定义但直接赋值的变量与方法。
* 我们使用 var 声明的变量，会被挂载到全局对象 window 之下。
* 而使用 let/const 声明的变量，并不会修改 window 对象，而是被挂载到一个新的对象 Script 之下

## 函数作用域

* 函数作用域中声明的变量与方法，只能被下层子作用域访问，不能被其他不相关的作用域访问。

## 块级作用域

* let 声明的变量，存在暂时性死区。在当前块级作用域中，let 声明的变量，在赋值之前，都不能对该变量进行额外的访问与操作，否则就会报错

## 作用域链

* 每一个函数都有一个 [[Scopes]] 属性，它是由一系列对象组成的数组。每个对象，都对应某一个父级作用域。它们是从对应的父级函数作用域中，收集到的当前函数作用域内会使用到的变量声明、函数声明、函数参数的集合。

```javascript
console.dir()
```

* 在当前函数中，要寻找到变量的值是从哪里来的，就首先会从当前执行上下文中查找，如果没有找到，则会去作用域链中查找。这里需要注意的是，作用域链本身就是存在于函数对象中的一个属性 [[Scopes]]，因此不是一层一层的往上查找「这里经常理解有误」，该属性是在代码预解析阶段就已经确认好的。